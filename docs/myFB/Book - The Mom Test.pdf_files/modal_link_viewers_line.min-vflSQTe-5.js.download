var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};define(["require","exports","external/react","modules/clean/react_format","modules/clean/react/title_bubble","modules/core/i18n"],function(e,t,n,r,o,i){"use strict";var s=n.createElement,a=8,u=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.formatOne=function(e){return i._("%(first_user)s is viewing").format({first_user:e})},t.prototype.formatTwo=function(e,t){return i._("%(first_user)s and %(second_user)s are viewing").format({first_user:e,second_user:t})},t.prototype.formatMulti=function(e,t,n){return i.ungettext("%(first_user)s, %(second_user)s, <TitleBubble>and %(in_bubble_count)d other are viewing</TitleBubble>","%(first_user)s, %(second_user)s, <TitleBubble>and %(in_bubble_count)d others are viewing</TitleBubble>",n).format({first_user:e,second_user:t,in_bubble_count:n})},t.prototype.formatMoreLine=function(e,n){return e>0?t.simpleFormatMoreLine(e,n):i.ungettext("and %(num_additional)d more have viewed…","and %(num_additional)d more have viewed…",n,{comment:"text in a list of members, indicates there are also num_additional members not shown"}).format({num_additional:n})},t.simpleFormatMoreLine=function(e,t){var n=e+t;return i.ungettext("and %(num_additional)d more…","and %(num_additional)d more…",n,{comment:"text in a list of members, indicates there are also num_additional members not shown"}).format({num_additional:n})},t}(Object),l=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.formatOne=function(e){return i._("%(first_user)s viewed").format({first_user:e})},t.prototype.formatTwo=function(e,t){return i._("%(first_user)s and %(second_user)s viewed").format({first_user:e,second_user:t})},t.prototype.formatMulti=function(e,t,n){return i.ungettext("%(first_user)s, %(second_user)s, <TitleBubble>and %(in_bubble_count)d other viewed</TitleBubble>","%(first_user)s, %(second_user)s, <TitleBubble>and %(in_bubble_count)d others viewed</TitleBubble>",n).format({first_user:e,second_user:t,in_bubble_count:n})},t.prototype.formatMoreLine=function(e,t){return u.simpleFormatMoreLine(e,t)},t}(Object),d=function(e){function t(t){e.call(this,t)}return __extends(t,e),t.prototype.render=function(){for(var e=[],t=[],n=0,r=this.props.viewers;n<r.length;n++){var o=r[n];this.props.presentAccountIds.has(o.account_id)?e.push(o):t.push(o)}return e.length?this._buildViewerComponent(e,new u,t.length):this._buildViewerComponent(t,new l,0)},t.prototype._buildViewerComponent=function(e,t,r){var i;if(e.length<=2){var a="";switch(e.length){case 0:return n.createElement("span",null);case 1:a=t.formatOne(e[0].display_name);break;case 2:a=t.formatTwo(e[0].display_name,e[1].display_name)}i=r>0?s(o,{content:t.formatMoreLine(0,r),children:n.createElement("span",null,a),position:o.POSITIONS.BOTTOM,isTargetPositionFixed:!0}):a}else i=this._buildComplexTooltip(e,t,r);return n.createElement("div",{className:"u-font-meta"},i)},t.prototype._buildComplexTooltip=function(e,t,i){var u=e.length,l=u-2,d=t.formatMulti(e[0].display_name,e[1].display_name,l),m=function(r){for(var l=[e[2].display_name],d=Math.min(2+a,u),m=3;d>m;m++)l.push(n.createElement("br",null),e[m].display_name);var c=u-d;return(c||i)&&l.push(n.createElement("br",null),t.formatMoreLine(c,i)),s(o,{content:n.createElement("div",null,l),children:n.createElement("span",null,r),position:o.POSITIONS.BOTTOM,isTargetPositionFixed:!0})};return r.reactFormat(d,{TitleBubble:m})},t}(n.Component);t.ModalLinkViewersLine=d});
//# sourceMappingURL=modal_link_viewers_line.min.js-vflFkBdmt.map